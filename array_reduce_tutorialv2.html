
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Array.reduce in JavaScript - Lecture</title>
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <h1>Understanding Array.reduce in JavaScript</h1>

    <h2>Introduction to Array.reduce</h2>
    <p><strong>Array.reduce</strong> is a powerful method in JavaScript that reduces an array to a single value by executing a callback function for each element. The callback function takes an accumulator and the current element, and the final value of the accumulator is returned as the result of the <code>reduce</code> operation.</p>

    <h3>Real-World Analogy</h3>
    <p>Imagine you’re collecting coins. As you go through each coin, you add its value to a running total. At the end, you have a single number that represents the total value of all the coins. This is how <code>reduce</code> works—it takes each element, processes it with an accumulator, and returns a single value.</p>

    <h2>How Array.reduce Works</h2>
    <p>The <code>reduce</code> method takes two arguments:</p>
    <ul>
        <li>A callback function that is executed for each element in the array. This callback takes the accumulator and the current element as arguments.</li>
        <li>An optional initial value for the accumulator. If no initial value is provided, the first element of the array is used as the accumulator, and the iteration starts from the second element.</li>
    </ul>

    <pre><code>
    let numbers = [1, 2, 3, 4];

    let sum = numbers.reduce(function(accumulator, currentValue) {
        return accumulator + currentValue;
    }, 0);  // The initial value of the accumulator is 0

    console.log(sum);  // Output: 10
    </code></pre>

    <h3>Example 1: Summing an Array</h3>
    <p>Here, we use <code>reduce</code> to calculate the sum of an array of numbers:</p>

    <pre><code>
    let numbers = [1, 2, 3, 4];

    let sum = numbers.reduce(function(accumulator, num) {
        return accumulator + num;
    }, 0);

    console.log(sum);  // Output: 10
    </code></pre>

    <h3>Example 2: Finding the Maximum Value</h3>
    <p>We can also use <code>reduce</code> to find the maximum value in an array by updating the accumulator with the larger of the current element or the accumulator:</p>

    <pre><code>
    let numbers = [5, 12, 3, 21, 9];

    let max = numbers.reduce(function(accumulator, num) {
        return num > accumulator ? num : accumulator;
    }, numbers[0]);

    console.log(max);  // Output: 21
    </code></pre>

    <h2>When and Why to Use Array.reduce</h2>
    <p><code>reduce</code> is useful when you need to combine all elements in an array into a single value. Common use cases include:</p>
    <ul>
        <li>Calculating the sum of all elements in an array.</li>
        <li>Finding the product of all elements in an array.</li>
        <li>Combining objects or arrays into a single object or array.</li>
        <li>Accumulating values based on specific criteria, like calculating totals or averages.</li>
    </ul>

    <h3>Real-World Usage</h3>
    <p>Suppose you have an array of purchases, and you want to calculate the total cost:</p>

    <pre><code>
    let purchases = [
        { item: 'Book', price: 10 },
        { item: 'Pen', price: 2 },
        { item: 'Notebook', price: 5 }
    ];

    let totalCost = purchases.reduce(function(accumulator, purchase) {
        return accumulator + purchase.price;
    }, 0);

    console.log(totalCost);  // Output: 17
    </code></pre>

    <h2>Difference Between reduce and map/filter</h2>
    <p>While <code>map</code> and <code>filter</code> transform arrays by returning new arrays, <code>reduce</code> distills an array into a single value. If you want to combine all the elements into one result, use <code>reduce</code>.</p>

    <h3>Example: Using map vs reduce</h3>
    <p>Here’s an example where you could use either <code>map</code> or <code>reduce</code> to achieve similar results:</p>

    <pre><code>
// Using map and sum with reduce separately
let numbers = [1, 2, 3, 4];

let doubled = numbers.map(function(num) {
    return num * 2;
});

let sum = doubled.reduce(function(accumulator, num) {
    return accumulator + num;
}, 0);

console.log(sum);  // Output: 20

// Using reduce to achieve the same result
let sumOfDoubled = numbers.reduce(function(accumulator, num) {
    return accumulator + (num * 2);
}, 0);

console.log(sumOfDoubled);  // Output: 20
    </code></pre>

    <h2>Common Pitfalls of Array.reduce</h2>
    <p>Be careful with how you set the initial value of the accumulator. If you forget to provide an initial value, the first element of the array will be used, which can cause unexpected results if you’re trying to accumulate values.</p>

    <pre><code>
    let numbers = [1, 2, 3, 4];

    // No initial value provided
    let product = numbers.reduce(function(accumulator, num) {
        return accumulator * num;
    });

    console.log(product);  // Output: 24
    </code></pre>

    <p>In this case, the first element of the array (1) was used as the initial value of the accumulator, which worked fine. But for other operations, such as summing or finding averages, it’s safer to provide an explicit initial value to avoid issues.</p>

    <h2>Conclusion</h2>
    <p>The <code>reduce</code> method is a versatile tool for reducing arrays into single values. It’s commonly used for operations like summing, finding maximums, or combining elements into objects. When used effectively, <code>reduce</code> can make your code cleaner and more efficient.</p>

    <h3>Further Practice</h3>
    <ul>
        <li>Use <code>reduce</code> to multiply all numbers in an array.</li>
        <li>Try using <code>reduce</code> to concatenate strings from an array into a single string.</li>
        <li>Experiment with reducing an array of objects to calculate totals based on specific properties.</li>
    </ul>
</body>
</html>
